# Add Fixed Seeds

이 문서는 `generate-seeds` 스크립트를 이용하여, fixed seed를 추가하는 방법에 대해 안내합니다.  



## Prerequisites
- Python3
- pip




## Install the [dnspython](https://github.com/rthalley/dnspython) package
`generate-seeds` 스크립트는 `dnspython` 패키지에 종속성이 있습니다.

```shell
$ pip install dnspython
```



## Add IP addresses

### 텍스트 파일에 주소 추가하기

bitcoin-ECC 디렉토리의 `contrib/seeds/nodes.main.txt` 파일을 찾아서  원하는 주소를 등록합니다. 여기선 `30.129.65.22:9777` 주소를 추가해보겠습니다. 

```shell
$ cd contrib/seeds
$ vi nodes.main.txt
```

`30.129.65.22:9777` 주소가 추가되었는지 확인해봅니다.

```shell
$ cat nodes.main.txt
112.169.89.65:9777
112.169.30.29:9777
30.129.65.22:9777
```



### 스크립트 실행

이제 `generate-seeds.py` 파이썬 스크립트를 실행합니다.  

```shell
$ python3 generate-seeds.py . > ../../src/chainparamsseeds.h
```

스크립트를 실행하면 `chainparamsseeds.h` 헤더파일에 fixed seed 가 추가됩니다.



잘 적용되었는지 확인하고 마칩니다.

```shell
$ cat ../../src/chainparamsseeds.h
    
#ifndef BITCOIN_CHAINPARAMSSEEDS_H
#define BITCOIN_CHAINPARAMSSEEDS_H
/**
 * List of fixed seed nodes for the bitcoin network
 * AUTOGENERATED by contrib/seeds/generate-seeds.py
 *
 * Each line contains a 16-byte IPv6 address and a port.
 * IPv4 as well as onion addresses are wrapped inside an IPv6 address accordingly.
 */
static SeedSpec6 pnSeed6_main[] = {
    {{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0x70,0xa9,0x1e,0x1d}, 9777},
    {{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0x70,0xa9,0x1e,0x41}, 9777}
};

static SeedSpec6 pnSeed6_test[] = {
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0x99,0xcb,0x26,0x31,0xba,0x48,0x51,0x31,0x39,0x0d}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0x44,0xf4,0xf4,0xf0,0xbf,0xf7,0x7e,0x6d,0xc4,0xe8}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0x6a,0x8b,0xd2,0x78,0x3f,0x7a,0xf8,0x92,0x8f,0x80}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0xe6,0x4e,0xa4,0x47,0x4e,0x2a,0xfe,0xe8,0x95,0xcc}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0x9f,0xae,0x9f,0x59,0x0b,0x3f,0x31,0x3a,0x8a,0x5f}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0x47,0xb1,0xe4,0x55,0xd1,0xb0,0x14,0x3f,0xb6,0xdb}, 19777},
    {{0xfd,0x87,0xd8,0x7e,0xeb,0x43,0xa0,0x60,0x9e,0x46,0x54,0xdb,0x61,0x3b,0xb2,0x6f}, 19777}
};
#endif // BITCOIN_CHAINPARAMSSEEDS_H
```


이제 소스코드를 다시 컴파일한 뒤 고정 노드가 연결되는지 확인해보세요.

